import { extractAuthorDetails, extractAuthorsList } from './helper';

describe('extractAuthorDetails', ()=> {

    it('should parse arrays in case of string list', ()=> {
        const mockData = {
            loops: [{
                columns: ["_publ_author_name"],
                data: ["Li, Si-Jia","Huang, Jian","He, Jin-Yu","Zhang, Rui-Jin","Qian, Hao-Dong","Dai, Xue-Lin","Kong, Han-Han","Xu, Hao"]
            }, {
                columns: ["_atom_site_label","_atom_site_type_symbol","_atom_site_fract_x","_atom_site_fract_y","_atom_site_fract_z","_atom_site_U_iso_or_equiv","_atom_site_occupancy","_atom_site_disorder_assembly","_atom_site_disorder_group"],
                data: [["C1","C","0.4463(5)","1.2509(5)","0.2873(5)","0.0302(9)","1","",""],["C2","C","0.4721(7)","1.3042(6)","0.4128(6)","0.0411(12)","1","",""],["H2","H","0.3931","1.3009","0.5116","0.049","1","",""],["C3","C","0.6149(7)","1.3619(6)","0.3906(7)","0.0484(13)","1","",""],["H3","H","0.6349","1.3961","0.4743","0.058","1","",""],["C4","C","0.7273(7)","1.3687(7)","0.2442(7)","0.0538(14)","1","",""],["H4","H","0.8233","1.4109","0.2262","0.065","1","",""],["C5","C","0.6964(7)","1.3114(6)","0.1218(6)","0.0445(12)","1","",""],["H5","H","0.7737","1.3156","0.0222","0.053","1","",""],["C6","C","0.2952(5)","1.1889(5)","0.3000(5)","0.0300(9)","1","",""],["C7","C","0.1688(3)","1.1726(3)","0.4516(3)","0.0354(10)","1","",""],["N3","N","0.0292(4)","1.2766(3)","0.4882(4)","0.0522(11)","1","",""],["C11","C","-0.1045(3)","1.2600(4)","0.6230(4)","0.0620(18)","1","",""],["H11","H","-0.1978","1.3296","0.6474","0.074","1","",""],["C10","C","-0.0987(4)","1.1394(5)","0.7212(3)","0.0566(16)","1","",""],["H10","H","-0.1881","1.1283","0.8113","0.068","1","",""],["C9","C","0.0409(5)","1.0354(4)","0.6846(4)","0.0596(16)","1","",""],["H9","H","0.0448","0.9547","0.7503","0.072","1","",""],["C8","C","0.1746(4)","1.0520(4)","0.5498(4)","0.0516(14)","1","",""],["H8","H","0.2679","0.9824","0.5253","0.062","1","",""],["C12","C","0.1502(6)","1.0690(6)","0.1700(6)","0.0383(11)","1","",""],["H12","H","0.0537","1.0957","0.2634","0.046","1","",""],["C13","C","0.1078(7)","1.1189(6)","0.0289(7)","0.0478(13)","1","",""],["H13A","H","0.0805","1.2269","0.0317","0.072","1","",""],["H13B","H","0.0163","1.0707","0.0303","0.072","1","",""],["H13C","H","0.2000","1.0903","-0.0637","0.072","1","",""],["C14","C","0.2023(6)","0.8994(5)","0.1716(5)","0.0349(10)","1","",""],["C15","C","0.3459(6)","0.8210(5)","0.0631(5)","0.0335(10)","1","",""],["C16","C","0.3679(7)","0.6638(6)","0.0729(7)","0.0472(12)","1","",""],["H16","H","0.4609","0.6107","0.0019","0.057","1","",""],["C17","C","0.2578(9)","0.5835(7)","0.1835(8)","0.0586(16)","1","",""],["H17","H","0.2748","0.4782","0.1848","0.070","1","",""],["C18","C","0.1246(8)","0.6597(7)","0.2900(7)","0.0560(15)","1","",""],["H18","H","0.0518","0.6059","0.3667","0.067","1","",""],["C19","C","0.0942(7)","0.8164(7)","0.2875(6)","0.0478(14)","1","",""],["H19","H","0.0023","0.8666","0.3625","0.057","1","",""],["C20","C","0.4946(6)","0.8671(5)","-0.2699(6)","0.0340(10)","1","",""],["C21","C","0.4113(7)","0.7550(6)","-0.2896(7)","0.0447(12)","1","",""],["H21","H","0.3433","0.7076","-0.2032","0.054","1","",""],["C22","C","0.4266(8)","0.7103(7)","-0.4370(7)","0.0551(14)","1","",""],["H22","H","0.3708","0.6326","-0.4484","0.066","1","",""],["C23","C","0.5243(8)","0.7814(7)","-0.5652(7)","0.0558(16)","1","",""],["H23","H","0.5354","0.7513","-0.6635","0.067","1","",""],["C24","C","0.6070(7)","0.8989(7)","-0.5477(7)","0.0542(14)","1","",""],["H24","H","0.6739","0.9470","-0.6342","0.065","1","",""],["C25","C","0.5888(7)","0.9433(6)","-0.4011(6)","0.0453(12)","1","",""],["H25","H","0.6396","1.0248","-0.3891","0.054","1","",""],["C26","C","0.6939(6)","0.7981(5)","-0.0934(6)","0.0356(10)","1","",""],["C27","C","0.7762(8)","0.6862(7)","-0.2047(8)","0.0592(16)","1","",""],["H27","H","0.7357","0.6664","-0.2801","0.071","1","",""],["C28","C","0.9195(8)","0.6041(8)","-0.2026(10)","0.0716(19)","1","",""],["H28","H","0.9755","0.5310","-0.2786","0.086","1","",""],["C29","C","0.9797(8)","0.6292(8)","-0.0906(9)","0.0654(18)","1","",""],["H29","H","1.0735","0.5713","-0.0881","0.078","1","",""],["C30","C","0.9011(9)","0.7390(8)","0.0159(9)","0.0650(18)","1","",""],["H30","H","0.9426","0.7577","0.0909","0.078","1","",""],["C31","C","0.7585(7)","0.8253(7)","0.0157(6)","0.0490(13)","1","",""],["H31","H","0.7068","0.9013","0.0895","0.059","1","",""],["Cl1","Cl","0.46979(19)","1.34622(15)","-0.19451(15)","0.0535(4)","1","",""],["Cu1","Cu","0.48376(5)","1.16032(5)","-0.02663(5)","0.03606(17)","1","",""],["N1","N","0.5600(5)","1.2508(4)","0.1425(4)","0.0342(9)","1","",""],["N2","N","0.2830(5)","1.1512(4)","0.1736(4)","0.0330(8)","1","",""],["P1","P","0.50592(14)","0.91754(12)","-0.08593(13)","0.0317(3)","1","",""]]
            }]
        }
        const result = extractAuthorsList(mockData);
        expect(result).toEqual(['Li, Si-Jia', 'Huang, Jian', 'He, Jin-Yu', 'Zhang, Rui-Jin', 'Qian, Hao-Dong', 'Dai, Xue-Lin', 'Kong, Han-Han', 'Xu, Hao']);
    })
});

